<!-- patients.ejs -->

<!DOCTYPE html>
<html>
<head>
  
  <title>List of Patients and Doctors</title>
  <style>
    table {
      width: 100%;
      border-collapse: collapse;
    }
    th, td {
      padding: 10px;
      text-align: left;
      border-bottom: 1px solid #ddd;
    }
    .actions {
      display: flex;
    }
    .edit-btn, .delete-btn, .add-btn {
      margin-right: 5px;
      padding: 5px 10px;
      background-color: #3498db;
      color: #fff;
      border: none;
      cursor: pointer;
    }
    .delete-btn {
      background-color: #e74c3c;
    }
    .logout-btn {
      position: fixed;
      top: 20px;
      right: 20px;
      padding: 10px 15px;
      background-color: #e74c3c;
      color: #fff;
      border: none;
      border-radius: 5px;
      cursor: pointer;
    }
  </style>
</head>
<body>
  <form method="POST" action="/admin/logout">
    <button class="logout-btn">Logout</button>
  </form>
</body>
<body>
  <h1>List of Patients <button class="add-btn" onclick="window.location.href='/create-new-patient'">Add Patient</button>
  </h1>
  <table>
    <tr>
      <th>ID</th>
      <th>Role ID</th>
      <th>Email</th>
      <th>First Name</th>
      <th>Last Name</th>
      <th>Address</th>
      <th>Gender</th>
      <th>Age</th>
      <th>Phone Number</th>
      <th>Image</th>
      <th>Actions</th>
    </tr>
    <% patients.forEach((patient) => { %>
      <tr>
        <td><%= patient.id %></td>
        <td><%= patient.roleId %></td>
        <td><%= patient.email %></td>
        <td><%= patient.Patient_firstName %></td>
        <td><%= patient.Patient_lastName %></td>
        <td><%= patient.Patient_address %></td>
        <td><%= patient.Patient_gender %></td>
        <td><%= patient.Patient_age %></td>
        <td><%= patient.Patient_phoneNumber %></td>
        <td><%= patient.Patient_image %></td>
        <td>
          <button class="edit-btn" onclick="window.location.href='/edit-patient?id=<%= patient.id %>'">Edit</button>
        </td>
        <td class="actions">
          <form method="POST" action="/delete-crud">
            <!-- Ô ẩn chứa Id của bệnh nhân -->
            <input type="hidden" name="id" value="<%= patient.id %>">
            <input type="hidden" name="roleId" value="<%= patient.roleId %>">
            <input type="hidden" name="model" value="Patient">
            <button type="submit" class="delete-btn">Delete</button>
          </form>
        </td>
      </tr>
    <% }); %>
  </table>

  <h1>List of Doctors <button class="add-btn" onclick="window.location.href='/create-new-doctor'">Add Doctor</button>
  </h1>
  <table>
    <tr>
      <th>ID</th>
      <th>Email</th>
      <th>Clinic ID</th>
      <th>Specialization ID</th>
      <th>Role ID</th>
      <th>First Name</th>
      <th>Last Name</th>
      <th>Address</th>
      <th>Gender</th>
      <th>Age</th>
      <th>Phone Number</th>
      <th>Image</th>
      <th>Actions</th>
    </tr>
    <% doctors.forEach((doctor) => { %>
      <tr>
        <td><%= doctor.id %></td>
        <td><%= doctor.email %></td>
        <td><%= doctor.ClinicId %></td>
        <td><%= doctor.SpecializationId %></td>
        <td><%= doctor.roleId %></td>
        <td><%= doctor.Doctor_firstName %></td>
        <td><%= doctor.Doctor_lastName %></td>
        <td><%= doctor.Doctor_address %></td>
        <td><%= doctor.Doctor_gender %></td>
        <td><%= doctor.Doctor_age %></td>
        <td><%= doctor.Doctor_phoneNumber %></td>
        <td><%= doctor.Doctor_image %></td>
        <td>
          <button class="edit-btn" onclick="window.location.href='/edit-doctor?id=<%= doctor.id %>'">Edit</button>
        </form></td>
        <td class="actions">
          <form method="POST" action="/delete-crud">
            <!-- Ô ẩn chứa Id của bệnh nhân -->
            <input type="hidden" name="id" value="<%= doctor.id %>">
            <input type="hidden" name="roleId" value="<%= doctor.roleId %>">
            <input type="hidden" name="model" value="Doctor">
            <button type="submit" class="delete-btn">Delete</button>
          </form>
        </td>
      </tr>
    <% }); %>
  </table>
</body>
</html>
